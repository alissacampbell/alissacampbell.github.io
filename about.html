<script>
  const canvas = document.getElementById("cursorCanvas");
  const ctx = canvas.getContext("2d");

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  resizeCanvas();
  window.addEventListener("resize", resizeCanvas);

  let points = [];

  document.addEventListener("mousemove", (e) => {
    points.push({
      x: e.clientX,
      y: e.clientY,
      life: 1
    });
  });

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.lineCap = "round";
    ctx.lineJoin = "round";

    if (points.length > 2) {
      ctx.lineWidth = 10; // thicker marker
      ctx.strokeStyle = "rgba(30, 90, 255, 0.4)";

      ctx.beginPath();
      ctx.moveTo(points[0].x, points[0].y);

      // Smooth curved stroke
      for (let i = 1; i < points.length - 1; i++) {
        const midX = (points[i].x + points[i + 1].x) / 2;
        const midY = (points[i].y + points[i + 1].y) / 2;

        ctx.quadraticCurveTo(points[i].x, points[i].y, midX, midY);

        points[i].life -= 0.008; // slow fade
      }

      ctx.stroke();
    }

    // Remove old points slowly
    points = points.filter(p => p.life > 0);

    requestAnimationFrame(animate);
  }

  animate();
</script>
